<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Parata Air ë¯¸ì£¼ ì·¨í•­ í†µí•© ëŒ€ì‹œë³´ë“œ v39</title>
    <style>
        :root {
            --navy: #002B5B; --gold: #D4AF37; --bg: #F4F7F9;
            --success: #28A745; --active: #FF9800; --danger: #DC3545;
            --pillar-bg: #FFF9E6; --link-blue: #E7F1FF; --link-border: #0056b3;
            --partner-bg: #F0FDF4; --partner-border: #166534;
        }
        body { font-family: 'Segoe UI', 'Pretendard', sans-serif; background: var(--bg); margin: 0; padding: 20px; color: #333; }
        .container { max-width: 1440px; margin: 0 auto; }
        
        header {
            background: linear-gradient(135deg, var(--navy) 0%, #004080 100%);
            color: white; padding: 30px 45px; border-radius: 20px 20px 0 0;
            display: flex; justify-content: space-between; align-items: center;
        }
        .header-title h1 { margin: 0; font-size: 28px; letter-spacing: 1px; }
        .dday-badge { background: var(--gold); color: var(--navy); padding: 12px 25px; border-radius: 12px; font-weight: 900; font-size: 22px; }

        .project-overview { background: white; padding: 25px 45px; border-radius: 0 0 20px 20px; margin-bottom: 30px; box-shadow: 0 5px 15px rgba(0,0,0,0.05); display: grid; grid-template-columns: 1.5fr 1fr; gap: 40px; border-top: 1px solid #eee; }
        .route-visual { font-size: 20px; font-weight: bold; color: var(--navy); display: flex; align-items: center; gap: 15px; }
        .plan-summary h3 { margin-top: 0; color: var(--navy); border-left: 4px solid var(--gold); padding-left: 10px; font-size: 18px; }
        .plan-summary li { margin-bottom: 8px; font-size: 14px; list-style: none; }

        /* Milestone ì§„í–‰ë¥  - ì‹œê°í™” ê·¸ë˜í”„ ê°•ì¡° */
        .progress-section { background: white; padding: 30px; border-radius: 20px; margin-bottom: 20px; box-shadow: 0 5px 15px rgba(0,0,0,0.05); text-align: center; }
        .progress-section h2 { font-size: 22px; color: var(--navy); margin: 0 0 20px; border-left: 5px solid var(--gold); padding-left: 15px; text-align: left; }
        .overall-bar-container { background: #e0e0e0; height: 45px; border-radius: 23px; overflow: hidden; margin: 10px 0; position: relative; box-shadow: inset 0 2px 5px rgba(0,0,0,0.1); }
        .overall-bar-fill { background: linear-gradient(90deg, var(--navy), #0056b3); height: 100%; width: 0%; display: flex; align-items: center; justify-content: center; color: white; font-weight: 900; font-size: 18px; transition: width 0.5s ease-in-out; }
        .prog-label { margin-top: 10px; font-size: 14px; color: #666; font-weight: bold; }

        .task-board-section { background: white; padding: 30px; border-radius: 20px; margin-bottom: 30px; box-shadow: 0 8px 25px rgba(0,0,0,0.1); border: 2px solid var(--navy); }
        .task-board-section h2 { font-size: 20px; color: var(--navy); margin-bottom: 20px; display: flex; align-items: center; gap: 10px; }
        .task-form { background: #F1F5F9; padding: 20px; border-radius: 15px; margin-bottom: 20px; display: grid; grid-template-columns: 1.5fr 1fr 1fr 1fr 2.5fr auto; gap: 12px; align-items: end; }
        .task-form div { display: flex; flex-direction: column; gap: 5px; }
        .task-form label { font-size: 11px; font-weight: bold; color: #475569; }
        .task-form input, .task-form select { padding: 8px; border: 1px solid #CBD5E1; border-radius: 6px; font-size: 13px; }
        
        .task-table { width: 100%; border-collapse: collapse; table-layout: fixed; }
        .task-table th { background: #F8FAFC; padding: 12px; font-size: 13px; color: #64748B; border-bottom: 2px solid #E2E8F0; text-align: left; }
        .task-table td { padding: 15px 12px; border-bottom: 1px solid #F1F5F9; font-size: 13.5px; overflow: hidden; }
        .task-table input { padding: 5px; border: 1px solid var(--gold); border-radius: 4px; font-size: 12px; width: 95%; }
        
        .mini-prog-bg { background: #E2E8F0; width: 100%; height: 8px; border-radius: 4px; overflow: hidden; margin-top: 5px; }
        .mini-prog-fill { background: var(--navy); height: 100%; transition: width 0.3s; }
        
        .btn-group { display: flex; gap: 5px; }
        .btn { padding: 6px 12px; border-radius: 6px; font-size: 11px; font-weight: bold; cursor: pointer; border: 1px solid transparent; }
        .btn-add { background: var(--navy); color: white; border: none; padding: 10px 20px; }
        .btn-edit { background: #E2E8F0; color: #475569; }
        .btn-save { background: var(--success); color: white; }
        .btn-del { background: #fee2e2; color: var(--danger); border-color: #fecaca; }

        .milestone-box { background: #fdfdfd; padding: 25px; border-radius: 20px; margin-bottom: 30px; border: 1px solid #E2E8F0; }
        .milestone-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; }
        .milestone-col { background: white; padding: 15px; border-radius: 12px; border: 1px solid #f0f0f0; border-left: 4px solid var(--navy); }
        .dept-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(340px, 1fr)); gap: 20px; margin-bottom: 30px; }
        .dept-card { background: white; border-radius: 18px; box-shadow: 0 6px 15px rgba(0,0,0,0.08); border: 1px solid #E2E8F0; overflow: hidden; }
        .dept-header { background: #F8FAFC; padding: 18px; border-bottom: 1px solid #EDF2F7; font-weight: bold; color: var(--navy); display: flex; justify-content: space-between; align-items: center; }
        .owner-tag { font-size: 11px; background: var(--navy); color: white; padding: 3px 8px; border-radius: 5px; }
        .task-list { padding: 15px; margin: 0; list-style: none; }
        .task-item { padding: 8px 0; border-bottom: 1px solid #F1F5F9; font-size: 12.5px; display: flex; gap: 8px; color: #555; }
        .pillar-box { background: var(--pillar-bg); border: 2px solid var(--gold); border-radius: 12px; padding: 15px; margin-bottom: 10px; position: relative; }
        .pillar-box b { color: #856404; display: block; margin-bottom: 4px; font-size: 14.5px; }
        .reference-section { background: #334155; color: #f8fafc; padding: 30px 45px; border-radius: 20px; margin-top: 40px; display: grid; grid-template-columns: 1.5fr 1fr; gap: 40px; }
    </style>
</head>
<body>

<div class="container">
    <header>
        <div class="header-title">
            <h1>ğŸ›« Parata Air ë¯¸êµ­ ì·¨í•­ Project Control</h1>
            <p>ì „ì‚¬ ì¸í—ˆê°€ ë¡œë“œë§µ ë° ì‹¤ë¬´ ì—…ë¬´ í˜„í™© (v39.0)</p>
        </div>
        <div class="dday-badge">ì·¨í•­ D-258</div>
    </header>

    <section class="project-overview">
        <div class="plan-summary">
            <h3>ë¯¸ì£¼ ë…¸ì„  ì·¨í•­ í”„ë¡œì íŠ¸ ê°œìš”</h3>
            <ul>
                <li>ğŸš€ <b>ìš´í•­ ëª©í‘œ:</b> 2026ë…„ 10ì›” ì •ê¸°í¸ ì·¨í•­ ë° íŒë§¤ ê°œì‹œ</li>
                <li>ğŸ¯ <b>í•µì‹¬ ê³¼ì œ:</b> FAA Part 129, TSA ë³´ì•ˆ, ì§€ì  ì„¤ë¦½, Customs Bond ë“±</li>
                <li>âš ï¸ <b>ì ˆëŒ€ ë§ˆê°:</b> <b>2026ë…„ 9ì›” ë§</b> êµ­í† ë¶€ ì¸ê°€ ì™„ë£Œ í•„ìˆ˜</li>
                <li>ğŸ‘¨â€ğŸ’¼ <b>ê´€ë¦¬ ì²´ê³„:</b> EDTO ìŠ¹ì¸ì€ ëŒ€í‘œì´ì‚¬(CEO) ì§ì ‘ ê´€ë¦¬</li>
            </ul>
        </div>
        <div class="route-info">
            <div class="route-visual">
                ICN <span>(ì¸ì²œ)</span> âœˆï¸ â•â•â•â•â•â• âœˆï¸ LAX <span>(ë¡œìŠ¤ì•¤ì ¤ë ˆìŠ¤)</span>
            </div>
        </div>
    </section>

    <section class="progress-section">
        <h2>MILESTONE ì‹¤ì‹œê°„ í†µí•© ì§„í–‰ë¥ </h2>
        <div class="overall-bar-container">
            <div id="overallBar" class="overall-bar-fill">0%</div>
        </div>
        <div class="prog-label">â€» í•˜ë‹¨ ì‹¤ì‹œê°„ ì—…ë¬´ í˜„í™© ë³´ë“œì˜ ë°ì´í„°ê°€ í•©ì‚° ë°˜ì˜ë©ë‹ˆë‹¤.</div>
    </section>

   <section class="milestone-box">
        <h2>ğŸ† Project Milestone</h2>
        <div class="milestone-grid">
            <div class="milestone-col">
                <h3>DOT ê²½ì œì  ì¸ê°€</h3>
                <ul><li>â€¢ ì‹ ì²­ì¼: 2025.10.23</li><li>â€¢ ìŠ¹ì¸ì¼: 2026.01.14</li><li>â€¢ Docket: DOT-OST-2025-1922</li><li>â€¢ ë‚´ìš©: Exemption(2ë…„), Permit</li></ul>
            </div>
            <div class="milestone-col">
                <h3>FAA Part 129 OpSpecs (Phase 1)</h3>
                <ul><li>â€¢ <b>ì‚¬ì „ì‹ ì²­(Pre-app): ì˜¤ëŠ˜ ì œì¶œ ì™„ë£Œ</b></li><li>â€¢ ì„œëª… ìœ„ì„ì¥(Signature Auth) ì œì¶œ</li><li>â€¢ LAX IFO ì ‘ìˆ˜ ëŒ€ê¸° ì¤‘</li></ul>
            </div>
            <div class="milestone-col">
                <h3>ìœ„ì„ ë¬¸ì„œ ì™„ë£Œ</h3>
                <ul><li>â€¢ CEO ì„œëª… ìœ„ì„ì¥ (ì„œìƒì› ë³¸ë¶€ì¥)</li><li>â€¢ Agent for Service: Katya</li><li>â€¢ WBOPSS ì ‘ê·¼ ê¶Œí•œ ì™„ë£Œ</li></ul>
            </div>
            <div class="milestone-col ms-highlight">
                <h3>FAA í–¥í›„ ë‹¨ê³„ (Phase 2 & 3)</h3>
                <ul>
                    <li>â€¢ <b>POI ë°°ì •:</b> ì¸ì¦ë²ˆí˜¸(ID) ë° ê°ë…ê´€ ë°°ì • í™•ì¸</li>
                    <li>â€¢ <b>ì •ì‹ ì‹ ì²­:</b> Formal Application íŒ¨í‚¤ì§€ ì œì¶œ</li>
                    <li>â€¢ TSA IIR ì—°ë½ ë° ë³´ì•ˆ ì¡°ì • ê°œì‹œ ì˜ˆì •</li>
                </ul>
            </div>
            <div class="milestone-col ms-highlight">
                <h3>ê´€ê³„ê¸°ê´€ í˜‘ì•½ ë° ì „ì†¡ ì‹œìŠ¤í…œ</h3>
                <ul>
                    <li>â€¢ <b>ì„¸ê´€/ë³´ì•ˆ:</b> US Customs Bond & TSA ê°€ì…</li>
                    <li>â€¢ <b>ì¶œì…êµ­:</b> Visa Waiver Program ì²´ê²°</li>
                    <li>â€¢ <b>ITì¸í”„ë¼:</b> Master Crew List & APIS êµ¬ì¶•</li>
                </ul>
            </div>
        </div>
    </section>
    <section class="task-board-section">
        <h2>ğŸ“‹ ì‹¤ì‹œê°„ ì—…ë¬´ í˜„í™© ì ê²€ ë³´ë“œ (Firebase Cloud ì €ì¥)</h2>
        <div class="task-form">
            <div><label>ì—…ë¬´ëª…</label><input type="text" id="t_name" placeholder="ì—…ë¬´ëª…"></div>
            <div><label>ëª©í‘œì¼</label><input type="date" id="t_date"></div>
            <div><label>ìƒíƒœ</label><select id="t_status"><option>ì¤€ë¹„</option><option>ì§„í–‰</option><option>ì™„ë£Œ</option></select></div>
            <div><label>ì§„í–‰%</label><input type="number" id="t_prog" min="0" max="100" value="0"></div>
            <div><label>ìƒì„¸ ë‚´ìš©</label><input type="text" id="t_memo" placeholder="ë©”ëª¨"></div>
            <button class="btn btn-add" id="btn_add">ì—…ë¬´ ì¶”ê°€</button>
        </div>

        <table class="task-table">
            <thead>
                <tr><th width="18%">ì—…ë¬´ëª…</th><th width="12%">ëª©í‘œì¼</th><th width="10%">ìƒíƒœ</th><th width="15%">ì§„í–‰ë¥ </th><th width="35%">ìƒì„¸ ë‚´ìš©</th><th width="10%">ê´€ë¦¬</th></tr>
            </thead>
            <tbody id="dynamic_tasks"></tbody>
        </table>
    </section>

    <section class="dept-grid">
    <div class="dept-card" style="border-top: 5px solid var(--navy); position: relative; overflow: visible;">
        <div class="dept-header">ìš´í•­ê¸°ìˆ íŒ€ <span class="owner-tag">ì´í•œì˜ íŒ€ì¥</span></div>
        <div class="task-list">
            <div class="pillar-box" style="margin-top: 5px;">
                <span class="pillar-tag" style="position: absolute; top: -12px; right: 15px; background: var(--gold); color: white; font-size: 10px; padding: 3px 10px; border-radius: 20px; font-weight: 800; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">Katya Pillar 1</span>
                <b style="color: var(--navy); font-size: 14px;">FAA Part 129 Ops Spec</b>
                <div style="font-size: 12px; color: #666; margin-top: 3px;">ìë¬¸: TWG | ì •ì‹ ì‹ ì²­ íŒ¨í‚¤ì§• ë° ICAO ì¤€ìˆ˜</div>
            </div>

            <a href="EDTO.html" class="action-link" style="background: linear-gradient(145deg, #FFFDF5, #FFF9E6); border: 2px solid var(--gold); border-radius: 15px; box-shadow: 0 6px 15px rgba(212, 175, 55, 0.2); position: relative; padding: 18px 15px; margin: 20px 0; text-decoration: none; display: flex; align-items: center; justify-content: space-between; transition: 0.3s;">
                <div style="display: flex; flex-direction: column; gap: 5px;">
                    <span style="position: absolute; top: -11px; left: 15px; background: var(--navy); color: white; font-size: 9px; padding: 2px 10px; border-radius: 10px; font-weight: bold; text-transform: uppercase;">CEO Priority</span>
                    <b style="color: var(--navy); font-size: 17px; display: flex; align-items: center; gap: 6px;">ğŸš€ EDTO ìŠ¹ì¸ ìƒì„¸ í˜„í™© <span style="font-size: 11px; font-weight: normal; color: #856404;">(MOLIT)</span></b>
                    <span style="font-size: 11px; color: #7a6e4d; line-height: 1.5;">íƒœí‰ì–‘ íš¡ë‹¨ í•„ìˆ˜ ì¸í—ˆê°€ ë‹¨ê³„ë³„ ìƒì„¸ ë¡œë“œë§µ ë°<br>ìµœì¢… ìŠ¹ì¸ í”„ë¡œì„¸ìŠ¤ ì‹¤ì‹œê°„ ëŒ€ì‹œë³´ë“œ ë°”ë¡œê°€ê¸°</span>
                </div>
                <div style="background: var(--gold); color: white; width: 28px; height: 28px; border-radius: 50%; display: flex; align-items: center; justify-content: center; box-shadow: 0 3px 6px rgba(0,0,0,0.1);">â¯</div>
            </a>

            <div class="task-item">ê¸°ì¬ë³„(A330) 17ëŒ€ ê¸°ìˆ  ì„œë¥˜ íŒ¨í‚¤ì§• ì™„ë£Œ</div>
        </div>
    </div>

    <div class="dept-card">
        <div class="dept-header">Network Planning <span class="owner-tag">ê¹€ìš©ì™„ ì°¨ì¥ / ì¥ì˜ˆì€</span></div>
        <div class="task-list">
            <div class="pillar-box">
                <span class="pillar-tag" style="position: absolute; top: -12px; right: 15px; background: #60A5FA; color: white; font-size: 10px; padding: 3px 10px; border-radius: 20px; font-weight: 800;">Katya Pillar 4</span>
                <b>Visa Waiver Program</b>
                <small style="display: block; color: #666;">ìë¬¸: TWG / L&K | ê°€ì… ë° ì„œëª… ì£¼ê´€</small>
            </div>
            <div class="task-item">DOT ìµœì¢… Permit ì „í™˜ ë° ë…¸ì„ í—ˆê°€ ì´ê´„</div>
            <div class="task-item">LAX ê³µí•­ Slot í™•ë³´ ë° Landing Permit ì·¨ë“</div>
        </div>
    </div>

    <div class="dept-card partner-card" style="background: #F0FDF4; border: 2px solid #166534;">
        <div class="dept-header" style="background: #DCFCE7; border-bottom: 1px solid #166534; color: #166534;">ì™¸ë¶€ í˜‘ë ¥ì‚¬ (Legal) <span class="owner-tag" style="background: #166534;">Counsel</span></div>
        <div class="task-list" style="font-size: 12.5px;">
            <div style="padding: 10px; background: white; border-radius: 10px; margin-bottom: 10px; border: 1px solid #BBF7D0;">
                <b style="color: #166534;">ğŸ‡ºğŸ‡¸ TWG (Katya Grimes)</b><br>
                <span style="color: #444; font-size: 11px;">FAA Part 129 / DOT / TSA ì´ê´„ ìë¬¸</span>
            </div>
            <div style="padding: 10px; background: white; border-radius: 10px; border: 1px solid #BBF7D0;">
                <b style="color: #166534;">ğŸ‡°ğŸ‡· L&K (Lee & Ko / ê´‘ì¥)</b><br>
                <span style="color: #444; font-size: 11px;">MOLIT ì¸í—ˆê°€ ë° êµ­ë‚´ ë²•ë¥  ì§€ì›</span>
            </div>
        </div>
    </div>

    <div class="dept-card">
        <div class="dept-header">ì•ˆì „ë³´ì•ˆì‹¤ <span class="owner-tag">ê¹€ìˆœí™ ë³¸ë¶€ì¥ / ì´í˜œë¯¼</span></div>
        <div class="task-list">
            <div class="pillar-box">
                <span class="pillar-tag" style="position: absolute; top: -12px; right: 15px; background: #FB923C; color: white; font-size: 10px; padding: 3px 10px; border-radius: 20px; font-weight: 800;">Katya Pillar 2</span>
                <b>TSA Security Program</b>
                <small style="display: block; color: #666;">ìë¬¸: TWG | ë³´ì•ˆ í”„ë¡œê·¸ë¨ ìˆ˜ë¦½</small>
            </div>
            <div class="task-item">NTSB POC ê´€ë¦¬ ë° ë¹„ìƒëŒ€ì‘ì²´ê³„ ìœ ì§€</div>
        </div>
    </div>

    <div class="dept-card">
        <div class="dept-header">ì¬ë¬´íŒ€ <span class="owner-tag">ì•ˆë³‘ì²œ ë¶€ì¥</span></div>
        <div class="task-list">
            <div class="pillar-box">
                <span class="pillar-tag" style="position: absolute; top: -12px; right: 15px; background: #2DD4BF; color: white; font-size: 10px; padding: 3px 10px; border-radius: 20px; font-weight: 800;">Katya Pillar 3</span>
                <b>Customs Bond (C2/C3)</b>
                <small style="display: block; color: #666;">ìë¬¸: TWG | ë¯¸ ì„¸ê´€ ë³´ì¦ ê°€ì…</small>
            </div>
            <div class="task-item">ë¯¸êµ­ ì§€ì  Banking Setup ë° ìê¸ˆ ìš´ì˜</div>
        </div>
    </div>

    <div class="dept-card">
        <div class="dept-header">ITíŒ€ <span class="owner-tag">ê²½ì¤€í˜¸ íŒ€ì¥</span></div>
        <div class="task-list">
            <div class="pillar-box">
                <span class="pillar-tag" style="position: absolute; top: -12px; right: 15px; background: #818CF8; color: white; font-size: 10px; padding: 3px 10px; border-radius: 20px; font-weight: 800;">Katya Pillar 5</span>
                <b>APIS Manifest System</b>
                <small style="display: block; color: #666;">CBP ì—°ë™ êµ¬ì¶• ë° ë°ì´í„° í…ŒìŠ¤íŠ¸</small>
            </div>
            <div class="task-item">PSS ë¯¸ì£¼ ë…¸ì„  ê¸°ëŠ¥ ê³ ë„í™” ë° GDS ì—°ë™</div>
        </div>
    </div>

    <div class="dept-card">
        <div class="dept-header">ê³µí•­ì„œë¹„ìŠ¤íŒ€ <span class="owner-tag">í™ì˜ìš° íŒ€ì¥</span></div>
        <div class="task-list">
            <div class="task-item"><b>LAX í˜„ì§€ ì¸í”„ë¼:</b> ì¡°ì—…/ë¼ìš´ì§€/ê¸°ë‚´ì‹ ê³„ì•½</div>
            <div class="task-item"><b>ì§€ì  ì…‹ì—…:</b> ë¯¸êµ­ ì§€ì  ì„¤ë¦½ ë° ì‚¬ë¬´ì‹¤ ì„ì°¨</div>
        </div>
    </div>

    <div class="dept-card" style="border-top: 5px solid #475569;">
        <div class="dept-header" style="background: #f1f5f9; color: #334155;">ì •ë¹„íŒ€ (Maintenance) <span class="owner-tag" style="background: #475569;">ì´ê°•í˜„ ë³¸ë¶€ì¥</span></div>
        <div class="task-list" style="padding-top: 10px;">
            <div class="task-item" style="border-left: 3px solid #CBD5E0; padding-left: 10px; margin-bottom: 5px;"><b>íƒ‘ìŠ¹ì •ë¹„ì‚¬:</b> ìê²©ì¦ ë° ê²½ë ¥ì¦ëª… í™•ë³´</div>
            <div class="task-item" style="border-left: 3px solid #CBD5E0; padding-left: 10px; margin-bottom: 5px;"><b>ìœ„íƒì •ë¹„:</b> 2ì£¼ ì „ ê³„ì•½ ì²´ê²° ë° ì¡°ì§ë„</div>
            <div class="task-item" style="border-left: 3px solid #CBD5E0; padding-left: 10px; margin-bottom: 5px;"><b>êµìœ¡:</b> ë¯¸ì£¼ ë…¸ì„  ì •ë¹„ íŠ¹ìˆ˜ êµìœ¡ ì´ìˆ˜</div>
            <div class="task-item" style="border-left: 3px solid #CBD5E0; padding-left: 10px; margin-bottom: 5px;"><b>ì¥ë¹„:</b> LAX ê³µêµ¬ ëª©ë¡ ë° ì‚¬ì–‘ì„œ ê´€ë¦¬</div>
            <div class="task-item" style="border-left: 3px solid #CBD5E0; padding-left: 10px; margin-bottom: 5px;"><b>ë§¤ë‰´ì–¼:</b> ê¸°ìˆ ë„ì„œ ì ‘ê·¼ê¶Œí•œ ë° ìµœì‹ í™”</div>
            <div class="task-item" style="border-left: 3px solid #D4AF37; padding-left: 10px; background: #FFFDF5; border-radius: 5px;"><b>ì˜ˆë¹„í’ˆ:</b> FAK LIST ê´€ë¦¬ ë° í™•ë³´</div>
        </div>
    </div>
</section>

    <section class="reference-section">
        <div class="ref-box">
            <h2>ğŸŒ ì™¸ë¶€ ìë¬¸ì‚¬ (External Counsel)</h2>
            <div style="display:grid; grid-template-columns:1fr 1fr; gap:20px;">
                <div class="ref-item">
                    <p><b>ğŸ‡ºğŸ‡¸ ë¯¸êµ­: The Wicks Group PLLC</b></p>
                    <p>â€¢ Glenn P. Wicks / Ekaterina A. Grimes</p>
                    <p>â€¢ 601 Pennsylvania Ave., NW, Washington, DC 20004</p>
                </div>
                <div class="ref-item">
                    <p><b>ğŸ‡°ğŸ‡· í•œêµ­: Lee & Ko (ë²•ë¬´ë²•ì¸ ê´‘ì¥)</b></p>
                    <p>â€¢ ë‹´ë‹¹: ì¡°ì˜ì£¼ ë³€í˜¸ì‚¬ ì™¸ (ë¯¸ì£¼ ì·¨í•­ ë²•ë¥  ì§€ì›)</p>
                </div>
            </div>
        </div>
        <div class="ref-box">
            <h2>ê¸°ê´€ ê´€í•  ì •ë¶€ ê¸°ê´€</h2>
            <div class="ref-item">
                <p>â€¢ <b>í•œêµ­:</b> êµ­í† êµí†µë¶€ (MOLIT) - ê°•ì •í˜„ í•­ê³µìš´í•­ê³¼ì¥</p>
                <p>â€¢ <b>ë¯¸êµ­:</b> DOT / FAA LAX IFO</p>
            </div>
        </div>
    </section>
</div>

<script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/12.7.0/firebase-app.js";
    import { getDatabase, ref, push, onValue, update, remove } from "https://www.gstatic.com/firebasejs/12.7.0/firebase-database.js";

    const firebaseConfig = {
        apiKey: "AIzaSyBb8ruxrJa-Fw4s5bwy_10TeH6_TgOhnz4",
        authDomain: "parataoe-769bb.firebaseapp.com",
        databaseURL: "https://parataoe-769bb-default-rtdb.firebaseio.com",
        projectId: "parataoe-769bb",
        storageBucket: "parataoe-769bb.firebasestorage.app",
        messagingSenderId: "964545748384",
        appId: "1:964545748384:web:f882221099022e4271d8c5",
        measurementId: "G-5LJ4QR4XED"
    };

    const app = initializeApp(firebaseConfig);
    const db = getDatabase(app);
    const boardRef = ref(db, 'task_board_v2');

    let editingKey = null;
    let cachedData = null;

    window.editTask = function(key) {
        editingKey = key;
        render(cachedData);
    };

    window.saveTask = function(key) {
        const nameVal = document.getElementById('edit_name_' + key).value;
        const dateVal = document.getElementById('edit_date_' + key).value;
        const statusVal = document.getElementById('edit_status_' + key).value;
        const progVal = document.getElementById('edit_prog_' + key).value;
        const memoVal = document.getElementById('edit_memo_' + key).value;

        update(ref(db, `task_board_v2/${key}`), {
            name: nameVal, date: dateVal, status: statusVal, prog: progVal, memo: memoVal
        }).then(() => { editingKey = null; });
    };

    window.deleteTask = function(key) {
        if(confirm("í•´ë‹¹ ì—…ë¬´ë¥¼ í´ë¼ìš°ë“œì—ì„œ ì˜êµ¬ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?")) { remove(ref(db, `task_board_v2/${key}`)); }
    };

    // í™”ë©´ ë Œë”ë§ ë° ì§„í–‰ë¥  ê³„ì‚°
    function render(data) {
        const tbody = document.getElementById('dynamic_tasks');
        tbody.innerHTML = "";
        
        let totalProgress = 0;
        let taskCount = 0;

        if(data) {
            for (let key in data) {
                const item = data[key];
                totalProgress += parseInt(item.prog || 0);
                taskCount++;

                const isEditing = (editingKey === key);
                const tr = document.createElement('tr');

                if(isEditing) {
                    tr.innerHTML = `
                        <td><input type="text" id="edit_name_${key}" value="${item.name}"></td>
                        <td><input type="date" id="edit_date_${key}" value="${item.date}"></td>
                        <td><select id="edit_status_${key}"><option value="ì¤€ë¹„" ${item.status=='ì¤€ë¹„'?'selected':''}>ì¤€ë¹„</option><option value="ì§„í–‰" ${item.status=='ì§„í–‰'?'selected':''}>ì§„í–‰</option><option value="ì™„ë£Œ" ${item.status=='ì™„ë£Œ'?'selected':''}>ì™„ë£Œ</option></select></td>
                        <td><input type="number" id="edit_prog_${key}" value="${item.prog}" min="0" max="100" style="width:50px">%</td>
                        <td><input type="text" id="edit_memo_${key}" value="${item.memo}"></td>
                        <td class="btn-group"><button class="btn btn-save" onclick="saveTask('${key}')">ì €ì¥</button></td>
                    `;
                } else {
                    tr.innerHTML = `
                        <td><b>${item.name}</b></td>
                        <td>${item.date || '-'}</td>
                        <td><span class="status-badge" style="background:${item.status=='ì™„ë£Œ'?'var(--success)':item.status=='ì§„í–‰'?'var(--active)':'#94a3b8'}">${item.status}</span></td>
                        <td><div style="font-weight:bold; font-size:11px;">${item.prog}%</div><div class="mini-prog-bg"><div class="mini-prog-fill" style="width:${item.prog}%"></div></div></td>
                        <td style="color:#64748B">${item.memo || '-'}</td>
                        <td class="btn-group"><button class="btn btn-edit" onclick="editTask('${key}')">ìˆ˜ì •</button><button class="btn btn-del" onclick="deleteTask('${key}')">ì‚­ì œ</button></td>
                    `;
                }
                tbody.appendChild(tr);
            }
        }

        // ìƒë‹¨ MILESTONE ì§„í–‰ë¥  ì—…ë°ì´íŠ¸
        const avg = taskCount > 0 ? Math.round(totalProgress / taskCount) : 0;
        const mainBar = document.getElementById('overallBar');
        mainBar.style.width = avg + "%";
        mainBar.innerText = avg + "% ì·¨í•­ ì¤€ë¹„ ì™„ë£Œ";
    }

    onValue(boardRef, (snapshot) => {
        cachedData = snapshot.val();
        render(cachedData);
    });

    document.getElementById('btn_add').onclick = () => {
        const name = document.getElementById('t_name').value;
        if(!name) return alert("ì—…ë¬´ëª…ì„ ì…ë ¥í•˜ì„¸ìš”.");
        push(boardRef, {
            name: name, date: document.getElementById('t_date').value, status: document.getElementById('t_status').value,
            prog: document.getElementById('t_prog').value, memo: document.getElementById('t_memo').value
        });
        document.getElementById('t_name').value = ""; document.getElementById('t_memo').value = "";
    };
</script>
</body>
</html>