<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Parata Air | US Launch Command Center</title>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-database-compat.js"></script>
    <style>
        :root {
            --primary-navy: #002349; --accent-gold: #C5A059; --bg-light: #F4F7FA;
            --status-done: #10B981; --status-progress: #3B82F6; --status-hold: #F59E0B;
            --danger: #EF4444; --white: #ffffff;
            --theme-color: var(--primary-navy);
        }

        body { font-family: 'Pretendard', -apple-system, sans-serif; background: var(--bg-light); margin: 0; color: #1E293B; }
        .wrapper { display: grid; grid-template-columns: 280px 1fr; min-height: 100vh; }

        /* Sidebar - ë©”ë‰´ ê°€ë…ì„± ë° ìƒ‰ìƒ ê°•ì¡° */
        aside { background: var(--primary-navy); color: white; padding: 30px 20px; position: sticky; top: 0; height: 100vh; box-sizing: border-box; }
        .logo { font-size: 24px; font-weight: 800; color: var(--accent-gold); margin-bottom: 40px; border-bottom: 1px solid rgba(255,255,255,0.1); padding-bottom: 20px; }
        .nav-group-label { font-size: 11px; color: rgba(255,255,255,0.5); text-transform: uppercase; margin: 20px 0 10px 10px; letter-spacing: 1px; }
        .nav-item { padding: 12px 15px; margin-bottom: 5px; border-radius: 8px; cursor: pointer; transition: 0.2s; font-size: 14px; display: flex; align-items: center; color: rgba(255,255,255,0.8); }
        .nav-item:hover { background: rgba(255,255,255,0.1); color: white; }
        .nav-item.active { background: var(--accent-gold); color: white; font-weight: 700; }

        /* Main Content */
        main { padding: 40px; overflow-y: auto; }
        .page-section { display: none; }
        .page-section.active { display: block; }

        /* Header & D-Day */
        header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 40px; }
        .monitoring-card { background: var(--white); padding: 15px 25px; border-radius: 12px; box-shadow: 0 4px 6px rgba(0,0,0,0.05); border-right: 5px solid var(--status-done); text-align: right; }
        .d-day-text { font-size: 24px; font-weight: 800; color: var(--danger); margin-bottom: 2px; }

        /* Progress Bar (Dashboards only) */
        .progress-card { background: white; padding: 20px; border-radius: 15px; margin-bottom: 25px; box-shadow: 0 4px 6px rgba(0,0,0,0.03); border-left: 10px solid var(--theme-color); }
        .progress-bar-bg { width: 100%; height: 12px; background: #E2E8F0; border-radius: 10px; margin-top: 10px; overflow: hidden; }
        .progress-bar-fill { height: 100%; background: var(--status-done); transition: 0.5s; width: 0%; }

        /* Tables & Inputs */
        .card { background: var(--white); padding: 30px; border-radius: 20px; box-shadow: 0 10px 25px rgba(0,0,0,0.02); margin-bottom: 25px; }
        .card-title { font-size: 18px; font-weight: 800; margin-bottom: 20px; display: flex; align-items: center; gap: 10px; color: var(--primary-navy); }
        .control-panel { display: grid; grid-template-columns: repeat(4, 1fr); gap: 15px; background: #F1F5F9; padding: 20px; border-radius: 12px; margin-bottom: 20px; border-top: 4px solid var(--theme-color); }
        .input-group label { font-size: 11px; font-weight: 800; color: #64748B; display: block; margin-bottom: 5px; }
        input, select, textarea { width: 100%; padding: 10px; border: 1px solid #CBD5E1; border-radius: 6px; box-sizing: border-box; }
        .btn-primary { background: var(--theme-color); color: white; border: none; padding: 12px; border-radius: 6px; font-weight: 700; cursor: pointer; grid-column: span 4; }
        
        table.task-table { width: 100%; border-collapse: collapse; background: white; border-radius: 12px; overflow: hidden; box-shadow: 0 4px 6px rgba(0,0,0,0.05); }
        .task-table th { background: #F8FAFC; padding: 15px; font-size: 12px; text-align: left; border-bottom: 2px solid var(--theme-color); }
        .task-table td { padding: 15px; border-bottom: 1px solid #F1F5F9; font-size: 14px; }
        .btn-act { padding: 5px 10px; border: 1px solid #ddd; border-radius: 4px; cursor: pointer; background: white; font-size: 12px; margin-right: 5px; }

        /* Modal */
        #modal_edit { display: none; position: fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.6); z-index:9999; justify-content:center; align-items:center; }
        .modal-body { background:white; padding:30px; border-radius:20px; width:500px; box-shadow:0 20px 40px rgba(0,0,0,0.3); }

        /* Info Styling */
        .info-section h3 { color: var(--primary-navy); border-left: 4px solid var(--accent-gold); padding-left: 12px; margin-top: 25px; }
        .tag { padding: 3px 10px; border-radius: 4px; font-size: 11px; font-weight: 700; background: #EDF2F7; color: #4A5568; margin-right: 10px; }
        .schedule-table { width: 100%; border-collapse: collapse; font-size: 13px; margin-top: 10px; }
        .schedule-table th { background: #f1f5f9; padding: 10px; text-align: left; border-bottom: 1px solid #cbd5e1; }
        .schedule-table td { padding: 10px; border-bottom: 1px solid #f1f5f9; }
    </style>
</head>
<body>

<div id="modal_edit">
    <div class="modal-body">
        <h2 style="margin-top:0;">ğŸ“ ì—…ë¬´ ìƒì„¸ ìˆ˜ì •</h2>
        <input type="hidden" id="edit_key">
        <div class="input-group"><label>ì—…ë¬´ëª…</label><input type="text" id="edit_name"></div><br>
        <div class="input-group"><label id="edit_label">ë‹´ë‹¹</label><input type="text" id="edit_team"></div><br>
        <div class="input-group"><label>ê¸°í•œ</label><input type="date" id="edit_date"></div><br>
        <div class="input-group"><label>ìƒíƒœ</label><select id="edit_status"><option>ì§„í–‰ì¤‘</option><option>ì™„ë£Œ</option><option>ëŒ€ê¸°</option></select></div><br>
        <div class="input-group"><label>ìƒì„¸ ì§€ì‹œ</label><textarea id="edit_memo" rows="3"></textarea></div><br>
        <div style="display:flex; gap:10px;">
            <button onclick="saveEdit()" style="flex:1; padding:12px; background:var(--primary-navy); color:white; border:none; border-radius:8px; cursor:pointer; font-weight:bold;">ìˆ˜ì •ì‚¬í•­ ì €ì¥</button>
            <button onclick="closeModal()" style="flex:1; padding:12px; background:#eee; border:none; border-radius:8px; cursor:pointer;">ì·¨ì†Œ</button>
        </div>
    </div>
</div>

<div class="wrapper">
    <aside>
        <div class="logo">PARATA AIR FLT OPS ENGEERING</div>
        <div class="nav-item active" onclick="showPage('overview', this)">ğŸ  í”„ë¡œì íŠ¸ ê°œìš” (Home)</div>
        <div class="nav-item" onclick="showPage('dashboard', this)">ğŸ“Š í†µí•© ëŒ€ì‹œë³´ë“œ</div>
        <div class="nav-item" onclick="showPage('opspecs', this)">âš™ï¸ ìš´ì˜ê¸°ì¤€ë³€ê²½ (OpSpecs)</div>
        <div class="nav-item" onclick="showPage('edto', this)" style="border: 1px solid var(--accent-gold);">ğŸ‘‘ EDTO</div>
        <div class="nav-item" onclick="showPage('faa129', this)">âœˆï¸ FAA Part 129-TWG</div>
        <div class="nav-item" onclick="showPage('security', this)">ğŸ›¡ï¸ FAA/TSA ë³´ì•ˆ (Info)</div>
        <div class="nav-item" onclick="showPage('customs', this)">ğŸ“¦ Customs Bond (Info)</div>
        <div class="nav-item" onclick="showPage('apis', this)">ğŸ’» APIS Manifest System</div>
    </aside>

    <main id="main_content">
        <header>
            <div>
                <h1 id="page_title">U.S. Launch Project Overview</h1>
                <p style="color:#64748B; margin:5px 0 0 0;" id="page_subtitle">Parata Air ë¯¸ì£¼ ë…¸ì„  ì·¨í•­ ì „ëµ ë¡œë“œë§µ</p>
            </div>
            <div class="monitoring-card">
                <div class="d-day-text" id="dday_display">D-Day...</div>
                <div style="font-weight:700; font-size:14px; margin-bottom:3px;">Target OCT 2026</div>
                <div style="font-size:12px; color:var(--status-done);">â— Live Monitoring Active</div>
            </div>
        </header>

        <section id="overview" class="page-section active">
            <div style="display: grid; grid-template-columns: 2.2fr 1fr; gap: 25px;">
                <div class="left-col">
                    <div class="card">
                        <div class="card-title">ğŸš€ ë¯¸ì£¼ ë…¸ì„  ì·¨í•­ í”„ë¡œì íŠ¸ ê°œìš”</div>
                        <ul style="list-style:none; padding:0;">
                            <li style="margin-bottom:15px;"><span class="tag">ìš´í•­ ëª©í‘œ</span> <strong>2026ë…„ 10ì›” ì •ê¸°í¸ ì·¨í•­ ë° íŒë§¤ ê°œì‹œ</strong></li>
                            <li style="margin-bottom:15px;"><span class="tag">í•µì‹¬ ê³¼ì œ</span> FAA Part 129, TSA ë³´ì•ˆ, ì§€ì  ì„¤ë¦½, Customs Bond ë“±</li>
                            <li style="margin-bottom:15px;"><span class="tag" style="background:#FEE2E2; color:#B91C1C;">ì ˆëŒ€ ë§ˆê°</span> <strong>2026ë…„ 9ì›” ë§ êµ­í† êµí†µë¶€ ì¸ê°€ ì™„ë£Œ í•„ìˆ˜</strong></li>
                            <li><span class="tag" style="background:#FEF3C7; color:#92400E;">ê´€ë¦¬ ì²´ê³„</span> EDTO ìŠ¹ì¸ ìš´í•­ê¸°ìˆ íŒ€</li>
                        </ul>
                        <div style="margin-top:25px; padding:20px; background:#F1F5F9; border-radius:15px; text-align:center;">
                            <h3 style="margin:0;">ICN(ì¸ì²œ) âœˆï¸ â•â•â•â•â•â•â•â•â•â•â•â• âœˆï¸ LAX(ë¡œìŠ¤ì•¤ì ¤ë ˆìŠ¤)</h3>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-title">ğŸ“… ìš´í•­ ê³„íš (WE301/302)</div>
                        <table class="schedule-table">
                            <thead><tr><th>ë…¸ì„ </th><th>í¸ëª…</th><th>ìš´í•­íšŸìˆ˜</th><th>ê¸°ì¢…</th><th>ìŠ¤ì¼€ì¤„(Local)</th></tr></thead>
                            <tbody>
                                <tr><td>ICN â” LAX</td><td>WE301</td><td>Daily</td><td>A330</td><td>16:00 â” 11:10</td></tr>
                                <tr><td>LAX â” ICN</td><td>WE302</td><td>Daily</td><td>A330</td><td>13:40 â” 19:00+1</td></tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                <div class="right-col">
                    <div class="card" style="background:var(--primary-navy); color:white; padding:20px;">
                        <div class="card-title" style="color:var(--accent-gold); font-size:16px;">ğŸŒ ì™¸ë¶€ ìë¬¸ì‚¬ (External)</div>
                        <p style="font-size:13px; margin-bottom:15px;"><small>US The Wicks Group</small><br><strong>Glenn P. Wicks / Katya Grimes</strong></p>
                        <p style="font-size:13px;"><small>KR ë²•ë¬´ë²•ì¸ ê´‘ì¥ (Lee & Ko)</small><br><strong>ì¡°ì˜ì£¼ ë³€í˜¸ì‚¬ ì™¸</strong></p>
                    </div>
                </div>
            </div>
        </section>

        <section id="board_section" class="page-section"></section>

        <section id="security" class="page-section">
            <div class="card info-section">
                <div class="card-title">ğŸ›¡ï¸ FAA/TSA ë³´ì•ˆ ì²´ê³„ ì•ˆë‚´ (Info)</div>
                <h3>1. TSA Security Program (SDSP)</h3>
                <p>ë¯¸ì£¼ ì·¨í•­ì„ ìœ„í•´ TSA í‘œì¤€ ë³´ì•ˆ í”„ë¡œê·¸ë¨(Standard Security Program) ìˆ˜ë¦½ì´ í•„ìˆ˜ì…ë‹ˆë‹¤.</p>
                <div style="background:#F8FAFC; padding:15px; border-radius:12px; font-size:14px; line-height:1.8;">
                    â€¢ TSA IIR (International Industry Representative) ê³µì‹ ì±„ë„ í™•ë³´<br>
                    â€¢ í•­ê³µê¸° ë³´ì•ˆ, ìŠ¹ê° ê²€ìƒ‰, ìˆ˜í•˜ë¬¼ ê´€ë¦¬ í‘œì¤€ ì ˆì°¨(SOP) ì œì¶œ ë° ìŠ¹ì¸<br>
                    â€¢ ê³µí•­ë³„ ë³´ì•ˆ ì±…ì„ì ì§€ì • ë° í•„ìˆ˜ êµìœ¡ í”„ë¡œê·¸ë¨ ì´ìˆ˜
                </div>
                <h3>2. ë³´ì•ˆ í†µì œ ì±…ì„</h3>
                <p>í•­ê³µê¸° ë‚´ì™¸ë¶€ ë³´ì•ˆ ë° ì§€ì  ë‚´ ë³´ì•ˆ êµ¬ì—­ ê´€ë¦¬ì— ëŒ€í•œ êµ¬ì²´ì ì¸ ë§¤ë‰´ì–¼ ìˆ˜ë¦½ì´ ë™ë°˜ë˜ì–´ì•¼ í•©ë‹ˆë‹¤.</p>
            </div>
        </section>

        <section id="customs" class="page-section">
            <div class="card info-section">
                <div class="card-title">ğŸ“¦ Customs Bond ë° CBP ì„¸ê´€ ì ˆì°¨ (Info)</div>
                <h3>1. US Customs Bond (C2/C3)</h3>
                <p>ë¯¸êµ­ ì„¸ê´€ ì˜ë¬´ ì´í–‰ ë³´ì¦ì„ ìœ„í•œ ë³¸ë“œ ê°€ì… ì ˆì°¨ ì•ˆë‚´ì…ë‹ˆë‹¤.</p>
                <div style="background:#F8FAFC; padding:15px; border-radius:12px; font-size:14px; line-height:1.8;">
                    â€¢ <strong>C2 (Custodial Bond):</strong> ë³´ì„¸ í™”ë¬¼ ìš´ì†¡ ë° ì°½ê³  ë³´ê´€ ì‹œ í•„ìš”<br>
                    â€¢ <strong>C3 (International Carrier Bond):</strong> ë¯¸ì£¼ ë…¸ì„  ì·¨í•­ í•­ê³µì‚¬ í•„ìˆ˜ ê°€ì… í•­ëª©
                </div>
                <h3>2. LAX Port Entry Approval</h3>
                <p>LAX ê³µí•­ ì„¸ê´€ì˜ Port of Entry ìŠ¹ì¸ ë° User Fee ê³„ì¢Œ ê°œì„¤ ì ˆì°¨ í•„ìš”.</p>
            </div>
        </section>

        <section id="apis" class="page-section">
            <div class="card info-section">
                <div class="card-title">ğŸ’» APIS (Advance Passenger Information System)</div>
                <p>ë¯¸êµ­ ì…ì¶œí•­ í•­ê³µê¸°ê°€ ìŠ¹ê° ë° ìŠ¹ë¬´ì›ì˜ ì‹ ì› ì •ë³´ë¥¼ ì‚¬ì „ì— CBP(ë¯¸êµ­ ê´€ì„¸êµ­ê²½ë³´í˜¸ì²­)ì— ì „ì†¡í•˜ëŠ” ì‹œìŠ¤í…œì…ë‹ˆë‹¤.</p>
                
                <h3>1. ì£¼ìš” ì „ì†¡ ë°ì´í„°</h3>
                <div style="background:#F8FAFC; padding:15px; border-radius:12px; font-size:14px; line-height:1.8;">
                    â€¢ ì„±ëª…, ìƒë…„ì›”ì¼, ì„±ë³„, êµ­ì , ì—¬ê¶Œë²ˆí˜¸<br>
                    â€¢ ë¯¸êµ­ ë‚´ ì²´ë¥˜ ì£¼ì†Œ(ìµœì´ˆ ì…êµ­ ì‹œ í•„ìˆ˜ ì •ë³´)<br>
                    â€¢ ìŠ¹ë¬´ì› ë§¤ë‹ˆí˜ìŠ¤íŠ¸ (Crew Manifest)
                </div>

                <h3>2. ì „ì†¡ ì‹œì  ì¤€ìˆ˜ (Strict)</h3>
                <div style="background:#FFF9F0; border-left:4px solid #F59E0B; padding:12px; font-size:14px;">
                    <strong>ìŠ¹ê° ì •ë³´:</strong> í•­ê³µê¸° ë¬¸ íì‡„(Door Close) ì¦‰ì‹œ ì „ì†¡<br>
                    <strong>ìŠ¹ë¬´ì› ì •ë³´:</strong> ì´ë¥™ 60ë¶„ ì „ê¹Œì§€ ìµœì¢… ë¦¬ìŠ¤íŠ¸ ì „ì†¡
                </div>

                <h3>3. ë¹„ê³ </h3>
                <p>ë³¸ ì—…ë¬´ëŠ” ì „ì‚° ì‹œìŠ¤í…œ ë° ì™¸ë¶€ IT ì¡°ì—…ì‚¬ì™€ì˜ ì—°ë™ì´ í•µì‹¬ì´ë©°, ë³´ì•ˆ ìŠ¹ì¸ê³¼ëŠ” ë³„ê°œì˜ ì‹œìŠ¤í…œ ìŠ¹ì¸ ì ˆì°¨ë¥¼ ê±°ì¹©ë‹ˆë‹¤.</p>
            </div>
        </section>
    </main>
</div>

<script>
    // [1] FIREBASE ì—°ê²° (ì‚¬ìš©ì ì„¤ì •ê°’ ê³ ì •)
    const firebaseConfig = {
        apiKey: "AIzaSyBb8ruxrJa-Fw4s5bwy_10TeH6_TgOhnz4",
        authDomain: "parataoe-769bb.firebaseapp.com",
        databaseURL: "https://parataoe-769bb-default-rtdb.firebaseio.com",
        projectId: "parataoe-769bb",
        storageBucket: "parataoe-769bb.firebasestorage.app",
        messagingSenderId: "964545748384",
        appId: "1:964545748384:web:f882221099022e4271d8c5",
        measurementId: "G-5LJ4QR4XED"
    };
    firebase.initializeApp(firebaseConfig);
    const db = firebase.database();

    // [2] THEMES (ëŒ€ì‹œë³´ë“œ ì „ìš© ì„¹ì…˜ë§Œ í¬í•¨)
    let storage = {};
    const themes = {
        dashboard: { color: '#002349', label: 'ë‹´ë‹¹ íŒ€' },
        opspecs: { color: '#0D9488', label: 'ë‹´ë‹¹ì' },
        edto: { color: '#C5A059', label: 'ë‹´ë‹¹ì' },
        faa129: { color: '#1E3A8A', label: 'ë‹´ë‹¹ì' }
    };
    let activeSid = 'overview';

    // Firebase Listener
    db.ref('parata_us_launch').on('value', (snapshot) => {
        storage = snapshot.val() || {};
        if (themes[activeSid]) renderBoard(activeSid);
    });

    // [3] RENDER LOGIC
    function renderBoard(sid) {
        const theme = themes[sid];
        const container = document.getElementById('board_section');
        document.documentElement.style.setProperty('--theme-color', theme.color);
        const dataObj = storage[sid] || {};
        const dataKeys = Object.keys(dataObj).reverse();
        const done = Object.values(dataObj).filter(i => i.status === 'ì™„ë£Œ').length;
        const prog = dataKeys.length > 0 ? Math.round((done / dataKeys.length) * 100) : 0;

        container.innerHTML = `
            <div class="progress-card">
                <div style="display:flex; justify-content:space-between; font-weight:800;">
                    <span>${sid.toUpperCase()} ì§„í–‰ë¥ </span><span>${prog}%</span>
                </div>
                <div class="progress-bar-bg"><div class="progress-bar-fill" style="width:${prog}%"></div></div>
            </div>
            <div class="control-panel">
                <div class="input-group" style="grid-column: span 2;"><label>ì—…ë¬´ëª…</label><input type="text" id="in_name"></div>
                <div class="input-group"><label>${theme.label}</label><input type="text" id="in_team"></div>
                <div class="input-group"><label>ê¸°í•œ</label><input type="date" id="in_date"></div>
                <div class="input-group" style="grid-column: span 3;"><label>ìƒì„¸ ì§€ì‹œ</label><textarea id="in_memo" rows="2"></textarea></div>
                <div class="input-group"><label>ìƒíƒœ</label><select id="in_status"><option>ì§„í–‰ì¤‘</option><option>ì™„ë£Œ</option><option>ëŒ€ê¸°</option></select></div>
                <button class="btn-primary" onclick="addData('${sid}')">ì‹ ê·œ ì—…ë¬´ ë“±ë¡</button>
            </div>
            <table class="task-table">
                <thead><tr><th>${theme.label}</th><th>ì—…ë¬´ëª…</th><th>ê¸°í•œ</th><th>ìƒíƒœ</th><th>ë©”ëª¨</th><th>ê´€ë¦¬</th></tr></thead>
                <tbody>
                    ${dataKeys.map(key => {
                        const i = dataObj[key];
                        return `<tr>
                            <td><b>${i.team}</b></td><td>${i.name}</td><td>${i.date}</td>
                            <td><span style="color:var(--status-${i.status==='ì™„ë£Œ'?'done':'progress'}); font-weight:800;">â— ${i.status}</span></td>
                            <td><div class="memo-box">${i.memo}</div></td>
                            <td>
                                <button class="btn-act" onclick="openEdit('${sid}', '${key}')">ìˆ˜ì •</button>
                                <button class="btn-act" style="color:red" onclick="deleteData('${sid}', '${key}')">ì‚­ì œ</button>
                            </td>
                        </tr>`;
                    }).join('')}
                </tbody>
            </table>
        `;
    }

    function addData(sid) {
        const name = document.getElementById('in_name').value;
        if(!name) return alert("ì—…ë¬´ëª…ì„ ì…ë ¥í•˜ì„¸ìš”.");
        db.ref(`parata_us_launch/${sid}`).push({
            team: document.getElementById('in_team').value,
            name: name, date: document.getElementById('in_date').value,
            status: document.getElementById('in_status').value,
            memo: document.getElementById('in_memo').value
        });
    }

    function deleteData(sid, key) { if(confirm("ì˜êµ¬ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?")) db.ref(`parata_us_launch/${sid}/${key}`).remove(); }

    function openEdit(sid, key) {
        const item = storage[sid][key];
        document.getElementById('edit_key').value = key;
        document.getElementById('edit_name').value = item.name;
        document.getElementById('edit_team').value = item.team;
        document.getElementById('edit_date').value = item.date;
        document.getElementById('edit_status').value = item.status;
        document.getElementById('edit_memo').value = item.memo;
        document.getElementById('edit_label').innerText = themes[sid].label;
        document.getElementById('modal_edit').style.display = 'flex';
    }

    function saveEdit() {
        const key = document.getElementById('edit_key').value;
        db.ref(`parata_us_launch/${activeSid}/${key}`).update({
            name: document.getElementById('edit_name').value,
            team: document.getElementById('edit_team').value,
            date: document.getElementById('edit_date').value,
            status: document.getElementById('edit_status').value,
            memo: document.getElementById('edit_memo').value
        }).then(() => closeModal());
    }

    function closeModal() { document.getElementById('modal_edit').style.display = 'none'; }

    function showPage(pageId, element) {
        activeSid = pageId;
        document.querySelectorAll('.page-section').forEach(s => s.classList.remove('active'));
        document.querySelectorAll('.nav-item').forEach(i => i.classList.remove('active'));
        element.classList.add('active');

        const titleMap = { 
            overview: "U.S. Launch Project Overview", 
            dashboard: "Integrated Task Dashboard", 
            opspecs: "OpSpecs Management", 
            edto: "EDTO Strategic Management", 
            faa129: "FAA Part 129-TWG", 
            security: "FAA/TSA Security Info", 
            customs: "Customs Bond & CBP Info", 
            apis: "APIS Manifest System" 
        };
        document.getElementById('page_title').innerText = titleMap[pageId];

        if (themes[pageId]) {
            renderBoard(pageId);
            document.getElementById('board_section').classList.add('active');
        } else {
            document.getElementById(pageId).classList.add('active');
        }
    }

    function updateDday() {
        const days = Math.floor((new Date("2026-10-30") - new Date()) / (1000*60*60*24));
        document.getElementById('dday_display').innerText = `Launch D-${days}`;
    }
    window.onload = () => { updateDday(); setInterval(updateDday, 3600000); };
</script>
</body>
</html>
