<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Parata Air: CAT II/III 운항 승인 추진 계획서</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <!-- Plotly.js -->
    <script src="https://cdn.plot.ly/plotly-2.24.1.min.js"></script>

    <!-- Font Awesome for Icons (Text-based, not SVG graphics) -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;700;900&display=swap" rel="stylesheet">

    <style>
        /* Custom Font Application */
        body {
            font-family: 'Noto Sans KR', sans-serif;
            background-color: #F3F4F6; /* Light Gray Background */
        }

        /* Palette Definition: Vibrant Tech
           Primary: #0F172A (Slate 900)
           Accent 1: #06B6D4 (Cyan 500)
           Accent 2: #F97316 (Orange 500)
           Accent 3: #3B82F6 (Blue 500)
        */

        .text-primary { color: #0F172A; }
        .bg-primary { background-color: #0F172A; }
        .text-accent-cyan { color: #06B6D4; }
        .bg-accent-cyan { background-color: #06B6D4; }
        .text-accent-orange { color: #F97316; }
        .bg-accent-orange { background-color: #F97316; }
        .text-accent-blue { color: #3B82F6; }
        .bg-accent-blue { background-color: #3B82F6; }

        /* Chart Container Styling - MANDATORY */
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 800px; /* Max width to prevent stretching */
            height: 400px;    /* Base height */
            max-height: 500px;
            margin-left: auto;
            margin-right: auto;
        }

        @media (max-width: 768px) {
            .chart-container {
                height: 300px;
            }
        }

        /* Card Styling */
        .card {
            background-color: white;
            border-radius: 0.75rem;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            padding: 1.5rem;
            transition: transform 0.2s;
        }
        .card:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }

        /* Custom Timeline Connector */
        .timeline-line {
            position: absolute;
            left: 50%;
            top: 0;
            bottom: 0;
            width: 4px;
            background-color: #E5E7EB;
            transform: translateX(-50%);
            z-index: 0;
        }
    </style>
    <!-- 
    PALETTE SELECTION: "Vibrant Tech"
    Based on the need for professional yet urgent airline operations visualization.
    Colors: Slate (Depth), Cyan (Future/Tech), Orange (Alert/Action).
    -->
    <!-- 
    HTML COMMENT: Narrative Plan
    1. Introduction: Objective (CAT II/III by late 2026) & Urgency.
    2. Regulatory Roadmap: Timeline visualization (Jan-Sep).
    3. Legal Basis: Breakdown of regulations (Act, Regulations, Manuals).
    4. Compliance Workload: Radar chart of departmental tasks.
    5. Operational Validation: Projection of 100 Auto-lands (Line Chart).
    6. Action Items: Meeting Request & Critical Path.
    -->
    <!--
    HTML COMMENT: Visualization Choice Justification
    1. Timeline -> Goal: Change -> Chart Type: Horizontal Bar (Gantt approximation) -> Shows phases clearly over time. NO SVG.
    2. Dept Workload -> Goal: Compare -> Chart Type: Radar Chart -> Compares multi-faceted readiness across depts. NO SVG.
    3. Auto-landings -> Goal: Change/Target -> Chart Type: Line/Area Chart -> Shows accumulation towards target (100). NO SVG.
    4. Readiness -> Goal: Inform -> Chart Type: Donut Chart -> Simple completion status. NO SVG.
    NEITHER Mermaid JS NOR SVG were used.
    -->
</head>
<body class="text-gray-800">

    <!-- Header Section -->
    <header class="bg-primary text-white pt-12 pb-24 px-6 relative overflow-hidden">
        <div class="absolute top-0 left-0 w-full h-2 bg-accent-orange"></div>
        <div class="container mx-auto max-w-6xl relative z-10">
            <div class="flex flex-col md:flex-row justify-between items-start md:items-center">
                <div>
                    <h1 class="text-4xl md:text-5xl font-black tracking-tight mb-2">
                        CAT II/III <span class="text-accent-cyan">운항 승인</span> 추진 계획서
                    </h1>
                    <p class="text-gray-400 text-lg font-light">
                        파라타항공(Parata Air) 운항기술팀 | A320 & A330 Fleet
                    </p>
                </div>
                <div class="mt-6 md:mt-0 text-right">
                    <div class="inline-block bg-accent-orange px-4 py-2 rounded-lg font-bold shadow-lg">
                        Target: 2026.09
                    </div>
                    <p class="text-sm text-gray-400 mt-1">D-Day: 2026.04 (신청)</p>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content Grid -->
    <main class="container mx-auto max-w-6xl px-4 -mt-16 relative z-20 pb-20">
        
        <!-- Executive Summary Cards -->
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-12">
            <!-- Card 1: Status -->
            <div class="card border-l-4 border-accent-orange">
                <h3 class="text-gray-500 text-sm font-bold uppercase mb-2">현재 상태 (Status)</h3>
                <div class="text-3xl font-bold text-primary mb-1">Initial Phase</div>
                <p class="text-sm text-gray-600">
                    운항 경험 없음 (None).<br>
                    전반적인 규정 수립 및 훈련 필요.
                </p>
            </div>
            <!-- Card 2: Aircraft -->
            <div class="card border-l-4 border-accent-cyan">
                <h3 class="text-gray-500 text-sm font-bold uppercase mb-2">대상 항공기 (Fleet)</h3>
                <div class="text-3xl font-bold text-primary mb-1">A320 / A330</div>
                <p class="text-sm text-gray-600">
                    AFM상 Auto-land 및 Low Visibility 기능 탑재 확인 완료.
                </p>
            </div>
            <!-- Card 3: Critical Path -->
            <div class="card border-l-4 border-accent-blue">
                <h3 class="text-gray-500 text-sm font-bold uppercase mb-2">핵심 과제 (Goal)</h3>
                <div class="text-3xl font-bold text-primary mb-1">100 Flights</div>
                <p class="text-sm text-gray-600">
                    실운항 검증(Demonstration) 자동착륙 100회 성공 필수.
                </p>
            </div>
        </div>

        <!-- Section 1: Project Timeline -->
        <section class="mb-16">
            <div class="mb-6">
                <h2 class="text-2xl font-bold text-primary border-l-4 border-accent-blue pl-4">1. 추진 일정 (Project Roadmap 2026)</h2>
                <p class="mt-2 text-gray-600">
                    CAT II/III 승인은 단순 서류 작업이 아닙니다. 규정 개정, 인력 교육, 그리고 실제 운항 검증이 순차적으로 이루어져야 하는 복합 프로젝트입니다. 
                    파라타항공은 운항 경험이 없으므로, **2026년 1월부터 9월까지** 타이트한 일정이 예상됩니다.
                </p>
            </div>

            <div class="card">
                <div class="chart-container">
                    <canvas id="timelineChart"></canvas>
                </div>
                <div class="mt-4 text-xs text-center text-gray-500">
                    * CAE Sim Slot 확보 상황에 따라 교육 일정 변동 가능성 존재 (Risk Factor)
                </div>
            </div>
        </section>

        <!-- Section 2: Legal & Regulatory Framework -->
        <section class="mb-16">
            <div class="mb-6">
                <h2 class="text-2xl font-bold text-primary border-l-4 border-accent-blue pl-4">2. 법적 근거 및 필수 요건 (Regulatory Basis)</h2>
                <p class="mt-2 text-gray-600">
                    본 승인은 「항공안전법」 및 「운항기술기준」에 의거하여 진행됩니다. 특히 **별표 8.1.11.8 (정밀계기접근 제2종 교범)** 준수가 핵심입니다.
                </p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                <!-- Legal Hierarchy Viz -->
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <h3 class="font-bold text-lg mb-4 text-primary">규정 체계도</h3>
                    <div class="space-y-4">
                        <div class="bg-gray-100 p-3 rounded border-l-4 border-gray-800">
                            <div class="font-bold">항공안전법 시행규칙 제108조</div>
                            <div class="text-sm text-gray-600">운항증명(AOC) 및 운영기준(Ops Specs) 변경 신청</div>
                        </div>
                        <div class="flex justify-center"><i class="fa-solid fa-arrow-down text-gray-400"></i></div>
                        <div class="bg-blue-50 p-3 rounded border-l-4 border-accent-blue">
                            <div class="font-bold">운항기술기준 9.1.15.2</div>
                            <div class="text-sm text-gray-600">비행장 기상최저치 및 CAT II/III 승인 요건 명시</div>
                        </div>
                        <div class="flex justify-center"><i class="fa-solid fa-arrow-down text-gray-400"></i></div>
                        <div class="bg-orange-50 p-3 rounded border-l-4 border-accent-orange">
                            <div class="font-bold">별표 8.1.11.8 (CAT-II Manual)</div>
                            <div class="text-sm text-gray-600">상세 기술 기준: 공항시설, 항공기 장비, 조종사 훈련, 정비 프로그램</div>
                        </div>
                    </div>
                </div>

                <!-- Checklist Viz -->
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <h3 class="font-bold text-lg mb-4 text-primary">필수 개정 매뉴얼</h3>
                    <ul class="space-y-3">
                        <li class="flex items-center">
                            <span class="w-8 h-8 rounded-full bg-accent-cyan text-white flex items-center justify-center mr-3 font-bold text-xs">A</span>
                            <div>
                                <div class="font-bold text-sm">FOM / POM</div>
                                <div class="text-xs text-gray-500">운항 일반 규정 및 정책 수립</div>
                            </div>
                        </li>
                        <li class="flex items-center">
                            <span class="w-8 h-8 rounded-full bg-accent-cyan text-white flex items-center justify-center mr-3 font-bold text-xs">B</span>
                            <div>
                                <div class="font-bold text-sm">훈련교범 (Training Manual)</div>
                                <div class="text-xs text-gray-500">초기/정기 훈련 커리큘럼 개정 (운항/정비/운항관리)</div>
                            </div>
                        </li>
                        <li class="flex items-center">
                            <span class="w-8 h-8 rounded-full bg-accent-cyan text-white flex items-center justify-center mr-3 font-bold text-xs">C</span>
                            <div>
                                <div class="font-bold text-sm">정비 규정 (GMM/GOM)</div>
                                <div class="text-xs text-gray-500">CAT II/III 유지보수 프로그램 및 MEL/CDL 절차</div>
                            </div>
                        </li>
                        <li class="flex items-center">
                            <span class="w-8 h-8 rounded-full bg-accent-cyan text-white flex items-center justify-center mr-3 font-bold text-xs">D</span>
                            <div>
                                <div class="font-bold text-sm">AFM / FCOM</div>
                                <div class="text-xs text-gray-500">제작사 기술 도서의 절차 반영 확인</div>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- Section 3: Departmental Roles & Readiness -->
        <section class="mb-16">
            <div class="mb-6">
                <h2 class="text-2xl font-bold text-primary border-l-4 border-accent-blue pl-4">3. 부서별 업무 준비도 (Task Distribution)</h2>
                <p class="mt-2 text-gray-600">
                    성공적인 승인을 위해서는 운항기술팀, 훈련팀, 정비본부, 통제본부의 유기적인 협업이 필수적입니다.
                </p>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 items-center">
                <div class="card">
                    <h3 class="font-bold text-gray-700 mb-4 text-center">부서별 주요 업무 비중</h3>
                    <div class="chart-container" style="height: 350px;">
                        <canvas id="deptRadarChart"></canvas>
                    </div>
                </div>

                <div class="space-y-4">
                    <div class="bg-white p-4 rounded shadow border-l-4 border-blue-800">
                        <h4 class="font-bold text-blue-800">운항기술팀 (Ops Eng)</h4>
                        <p class="text-sm text-gray-600 mt-1">
                            - 승인 신청 총괄 및 대관 업무 (서울지방항공청)<br>
                            - 매뉴얼 (FOM, POM) 개정 주관<br>
                            - A320/A330 성능 분석 및 AFM 절차 수립
                        </p>
                    </div>
                    <div class="bg-white p-4 rounded shadow border-l-4 border-green-600">
                        <h4 class="font-bold text-green-600">운항훈련팀 (Training)</h4>
                        <p class="text-sm text-gray-600 mt-1">
                            - 시뮬레이터 (CAE Sim Slot) 일정 확보<br>
                            - 운항승무원 지상학/SIM 교육 실시<br>
                            - 자격 부여 (Qualification) 관리
                        </p>
                    </div>
                    <div class="bg-white p-4 rounded shadow border-l-4 border-yellow-600">
                        <h4 class="font-bold text-yellow-600">정비본부 (Maintenance)</h4>
                        <p class="text-sm text-gray-600 mt-1">
                            - 정비 프로그램 개정 및 장비 신뢰성 관리<br>
                            - Auto-land System 점검 및 정비사 교육
                        </p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section 4: Operational Demonstration -->
        <section class="mb-16">
            <div class="mb-6">
                <h2 class="text-2xl font-bold text-primary border-l-4 border-accent-blue pl-4">4. 실운항 검증 계획 (Validation Flights)</h2>
                <p class="mt-2 text-gray-600">
                    운항기술기준에 따라 운항 경험이 없는 항공사는 **최소 100회 이상의 연속적인 성공 자동 착륙(Auto-landing)** 기록을 제출해야 합니다. 
                    이는 4월 신청 이후 9월까지 집중적으로 수행됩니다.
                </p>
            </div>

            <div class="card">
                <h3 class="font-bold text-gray-700 mb-4">월별 목표 Auto-landing 횟수 (누적)</h3>
                <div class="chart-container">
                    <canvas id="validationChart"></canvas>
                </div>
                <div class="mt-4 flex justify-between items-center text-sm bg-gray-50 p-3 rounded">
                    <div><span class="font-bold text-accent-orange">Risk:</span> 기상 악화, 장비 결함 시 횟수 초기화 가능성</div>
                    <div><span class="font-bold text-accent-blue">Mitigation:</span> A320/A330 전 기종 활용</div>
                </div>
            </div>
        </section>

        <!-- Conclusion & Call to Action -->
        <section class="bg-white rounded-xl shadow-xl overflow-hidden">
            <div class="bg-primary p-6">
                <h2 class="text-2xl font-bold text-white">결론 및 협조 요청</h2>
            </div>
            <div class="p-8">
                <div class="flex flex-col md:flex-row gap-8">
                    <div class="flex-1">
                        <h3 class="text-xl font-bold text-primary mb-3">Time is Critical</h3>
                        <p class="text-gray-600 mb-4">
                            파라타항공은 현재 CAT II/III 운항 경험이 전무하므로, 기간 단축이 현실적으로 어렵습니다. 
                            2026년 4월 신청을 위해서는 **지금 바로** 규정 보완과 훈련 계획이 확정되어야 합니다.
                        </p>
                        <h3 class="text-xl font-bold text-primary mb-3 mt-6">Next Step: Kick-off Meeting</h3>
                        <div class="bg-yellow-50 border border-yellow-200 rounded p-4">
                            <div class="font-bold text-yellow-800"><i class="fa-regular fa-calendar-check mr-2"></i>회의 제안</div>
                            <ul class="list-disc list-inside text-sm text-yellow-900 mt-2">
                                <li><strong>일시:</strong> 2026. 1. 13 (화) 오전/오후</li>
                                <li><strong>참석:</strong> 운항기술, 훈련, 정비, 통제 담당자</li>
                                <li><strong>안건:</strong> R&R 확정 및 Sim Slot 확보 방안</li>
                            </ul>
                        </div>
                    </div>
                    
                    <!-- Final Visual Summary -->
                    <div class="flex-1 flex flex-col justify-center items-center bg-gray-50 rounded p-4">
                        <h4 class="font-bold text-gray-500 mb-4 uppercase text-xs tracking-wider">Project Success Probability</h4>
                        <div class="chart-container" style="height: 250px; max-width: 250px;">
                            <canvas id="successDonut"></canvas>
                        </div>
                        <p class="text-center text-xs text-gray-400 mt-4">
                            Based on current timeline adherence
                        </p>
                    </div>
                </div>
            </div>
        </section>

        <footer class="text-center py-12 text-gray-400 text-sm">
            <p>Generated for Parata Air Flight Operations Engineering Team</p>
            <p class="mt-1">Data Source: Flight Safety Regulations 2024-828, A320/A330 AFM, Ops Specs</p>
        </footer>

    </main>

    <!-- JavaScript for Charts -->
    <script>
        // Common Chart Defaults
        Chart.defaults.font.family = "'Noto Sans KR', sans-serif";
        Chart.defaults.color = '#4B5563';
        Chart.defaults.responsive = true;
        Chart.defaults.maintainAspectRatio = false;

        // Helper function for wrapping text (16 chars)
        function wrapLabel(str, maxChars) {
            if (str.length <= maxChars) return str;
            const words = str.split(' ');
            const lines = [];
            let currentLine = words[0];

            for (let i = 1; i < words.length; i++) {
                if ((currentLine + " " + words[i]).length <= maxChars) {
                    currentLine += " " + words[i];
                } else {
                    lines.push(currentLine);
                    currentLine = words[i];
                }
            }
            lines.push(currentLine);
            return lines;
        }

        // Common Tooltip Callback
        const commonTooltip = {
            callbacks: {
                title: function(tooltipItems) {
                    const item = tooltipItems[0];
                    let label = item.chart.data.labels[item.dataIndex];
                    if (Array.isArray(label)) {
                        return label.join(' ');
                    } else {
                        return label;
                    }
                }
            }
        };

        // 1. Timeline Chart (Gantt-style using Floating Bars)
        const ctxTimeline = document.getElementById('timelineChart').getContext('2d');
        // Data prep: [Start Month, End Month] (Approximation: Jan=0, Feb=1...)
        // 2026.1 -> 0, 2026.4 -> 3
        const timelineChart = new Chart(ctxTimeline, {
            type: 'bar',
            data: {
                labels: [
                    wrapLabel('규정 보완 (Manuals)', 16),
                    wrapLabel('교육/훈련 (Training)', 16),
                    wrapLabel('승인 신청 (Application)', 16),
                    wrapLabel('시범 운항 (Demonstration)', 16)
                ],
                datasets: [{
                    label: '기간 (개월)',
                    data: [
                        [0, 1], // Jan
                        [1, 3], // Feb-Mar
                        [3, 4], // Apr
                        [3, 9]  // Apr-Sep
                    ],
                    backgroundColor: [
                        'rgba(59, 130, 246, 0.8)', // Blue
                        'rgba(249, 115, 22, 0.8)', // Orange
                        'rgba(6, 182, 212, 0.8)',  // Cyan
                        'rgba(15, 23, 42, 0.8)'    // Dark
                    ],
                    borderRadius: 6,
                    barPercentage: 0.6
                }]
            },
            options: {
                indexAxis: 'y',
                scales: {
                    x: {
                        min: 0,
                        max: 9,
                        ticks: {
                            callback: function(value, index, values) {
                                const months = ['1월', '2월', '3월', '4월', '5월', '6월', '7월', '8월', '9월', '10월'];
                                return months[value] || '';
                            }
                        },
                        grid: { color: '#E5E7EB' }
                    },
                    y: {
                        grid: { display: false }
                    }
                },
                plugins: {
                    legend: { display: false },
                    tooltip: commonTooltip,
                    title: {
                        display: true,
                        text: '2026년 주요 추진 일정',
                        font: { size: 16, weight: 'bold' }
                    }
                }
            }
        });

        // 2. Department Radar Chart
        const ctxRadar = document.getElementById('deptRadarChart').getContext('2d');
        const deptRadarChart = new Chart(ctxRadar, {
            type: 'radar',
            data: {
                labels: [
                    wrapLabel('문서작성 (Documentation)', 16),
                    wrapLabel('대관업무 (Regulations)', 16),
                    wrapLabel('장비점검 (Equipment)', 16),
                    wrapLabel('인력교육 (Training)', 16),
                    wrapLabel('운항통제 (Dispatch)', 16)
                ],
                datasets: [{
                    label: '운항기술팀',
                    data: [90, 100, 20, 30, 40],
                    fill: true,
                    backgroundColor: 'rgba(59, 130, 246, 0.2)',
                    borderColor: '#3B82F6',
                    pointBackgroundColor: '#3B82F6',
                }, {
                    label: '정비/훈련/통제',
                    data: [40, 20, 90, 100, 60],
                    fill: true,
                    backgroundColor: 'rgba(249, 115, 22, 0.2)',
                    borderColor: '#F97316',
                    pointBackgroundColor: '#F97316',
                }]
            },
            options: {
                scales: {
                    r: {
                        angleLines: { color: '#E5E7EB' },
                        grid: { color: '#E5E7EB' },
                        suggestedMin: 0,
                        suggestedMax: 100
                    }
                },
                plugins: {
                    tooltip: commonTooltip
                }
            }
        });

        // 3. Validation Flight Projection (Line Chart)
        const ctxValidation = document.getElementById('validationChart').getContext('2d');
        const validationChart = new Chart(ctxValidation, {
            type: 'line',
            data: {
                labels: ['4월', '5월', '6월', '7월', '8월', '9월'],
                datasets: [{
                    label: '누적 목표 (Cumulative Target)',
                    data: [5, 20, 40, 65, 85, 100],
                    borderColor: '#06B6D4',
                    backgroundColor: 'rgba(6, 182, 212, 0.1)',
                    fill: true,
                    tension: 0.3,
                    pointRadius: 5,
                    pointHoverRadius: 8
                },
                {
                    label: '최소 요구량 (Requirement)',
                    data: [100, 100, 100, 100, 100, 100],
                    borderColor: '#F97316',
                    borderDash: [5, 5],
                    fill: false,
                    pointRadius: 0
                }]
            },
            options: {
                scales: {
                    y: {
                        beginAtZero: true,
                        title: { display: true, text: 'Auto-landings (회)' }
                    }
                },
                plugins: {
                    tooltip: commonTooltip,
                    annotation: {
                        annotations: {
                            line1: {
                                type: 'line',
                                yMin: 100,
                                yMax: 100,
                                borderColor: 'rgb(255, 99, 132)',
                                borderWidth: 2,
                            }
                        }
                    }
                }
            }
        });

        // 4. Success Probability Donut
        const ctxDonut = document.getElementById('successDonut').getContext('2d');
        const successDonut = new Chart(ctxDonut, {
            type: 'doughnut',
            data: {
                labels: ['준비 완료 (Ready)', '잔여 과제 (Remaining)'],
                datasets: [{
                    data: [15, 85], // Just started
                    backgroundColor: [
                        '#3B82F6',
                        '#E5E7EB'
                    ],
                    borderWidth: 0
                }]
            },
            options: {
                cutout: '70%',
                plugins: {
                    legend: { display: false },
                    tooltip: commonTooltip,
                    title: {
                        display: true,
                        text: '현재 진행률 (15%)',
                        position: 'bottom'
                    }
                }
            }
        });
    </script>
</body>
</html>